<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Push-Benachrichtigungs-Test</title>
</head>
<body>
  <h1>Push-Benachrichtigungstest</h1>
  <p>Alle 30 Sekunden wird eine Benachrichtigung ausgelöst.</p>
  <button onclick="startNotifications()">Benachrichtigungen starten</button>

  <script>
    let intervalId;

    function startNotifications() {
      if (!("Notification" in window)) {
        alert("Dieser Browser unterstützt keine Benachrichtigungen.");
        return;
      }

      Notification.requestPermission().then(function(permission) {
        if (permission !== "granted") {
          alert("Benachrichtigungen wurden nicht erlaubt.");
          return;
        }

        if (intervalId) clearInterval(intervalId);

        intervalId = setInterval(() => {
          new Notification("Test-Benachrichtigung", {
            body: "Das ist eine Testnachricht (" + new Date().toLocaleTimeString() + ")",
            icon: "https://upload.wikimedia.org/wikipedia/commons/3/3a/OOjs_UI_icon_notice.svg"
          });
        }, 30000);

        alert("Benachrichtigungen werden nun alle 30 Sekunden gesendet.");
      });
    }
  </script>
</body>
</html>
